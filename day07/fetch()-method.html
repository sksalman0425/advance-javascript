<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API using XMLHttpRequest</title>
  </head>
  <body>
    <img id="avatar" src="" alt="Image url" />
    <p id="demo0"></p>
    <img id="avatar2" src="" alt="Image url" />
    <p id="demo1"></p>
    <script>
      //   fetch("url").then((response)=>{
      //     console.log(response);
      //   })
      // here we can take any name instead of response and here we get inbuilt .json() method which return data in json format.
      // you can take any variable name instead of jsondata or data or any name
      //for getting more than one user details we are taking object containing userid and looping through that object.
    
      const usersVariable = ["sksalman0425", "prajwalkawale"];
      for (let index = 0; index < usersVariable.length; index++) {
        //here in fetch() if we are not passing 2nd arg which is object, that means bydefault it is GET request.
        //for other request we have to take user details in object and pass it in fetch() at the 2 nd place.
        //here we are getting single single user detail, you can get all the user if api link allows you.
        // some api link gives you all user details.
        fetch(`https://api.github.com/users/${usersVariable[index]}`).then(
          (response) => {
            console.log("response data", response);
            if (response.status === 200) {
              response.json().then((jsonData) => {
                console.log("jsondata", jsonData);
                document.getElementById("demo" + index).innerHTML =
                  jsonData.name;
                document.getElementById("avatar" + index).src =
                  jsonData.avatar_url;
              });
            } else {
              document.getElementById(
                "demo"
              ).innerHTML = `Error Occured with status ${request.status} :: ${request.statusText}`;
            }
          }
        );
      }
 
    </script>
  </body>
</html>
